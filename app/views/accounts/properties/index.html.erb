<% provide(:title, t('properties.title')) %>

<%= render layout: 'layouts/breadcrumb', locals: {path: [{:title => t('properties.index.breadcrumb'), :href => properties_path}], icon: 'house-colored'} do %>
  <div class="action-btns">
    <%= link_to new_property_path, class: 'btn btn-primary btn-sm' do %>
      <i class="fas fa-plus-circle fa-fw"></i>&nbsp;<%= t('properties.new.add_button') %>
    <% end %>
  </div>
<% end %>

<div class="page-container">
  <div class="container">
    <div class="app-container">
      <%= react_component('PropertiesListWithDatatable', props: {
          initial_payload: {
              dataset_wrapper: @propertieslist,
              results_per_page: @results_per_page,
              total_entries: @total_entries,
              current_page: @current_page,
              initial_search: @initial_search,
              initial_sorting: @initial_sorting,
              initial_ordering: @initial_ordering,
              object_type: 'properties'
          },
          i18n: {
              datatable: t('js.datatables.properties'),
              search: t('js.properties_search.placeholder'),
              view: t('js.properties_view_btn'),
              edit: t('js.properties_edit_btn'),
              filters: {
                  sortByDate: {
                      title: t('js.datatables.filters.date.title'),
                      option1: t('js.datatables.filters.date.descending'),
                      option2: t('js.datatables.filters.date.ascending'),
                  },
                  sortByPrice: {
                      title: t('js.datatables.filters.price.title'),
                      option1: t('js.datatables.filters.price.ascending'),
                      option2: t('js.datatables.filters.price.descending'),
                  },
                  filterByType: {
                      title: t('js.datatables.filters.type.title'),
                      option1: t('js.datatables.filters.type.sell'),
                      option2: t('js.datatables.filters.type.rent'),
                  }
              },
              favourites_tooltip: t('js.properties_favourites_tooltip')
          }
      }, prerender: false) %>
    </div>
  </div>
</div>


